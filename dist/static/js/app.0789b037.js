(function(t){function e(e){for(var o,i,c=e[0],s=e[1],u=e[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01df":function(t,e,n){"use strict";n.r(e),n.d(e,"routes",(function(){return l}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("more",{attrs:{height:"100px",show:!0}},[n("h1",[t._v("test")])])],1)},a=[],r={name:"test",data:function(){return{}},mounted:function(){}},i=r,c=n("2877"),s=Object(c["a"])(i,o,a,!1,null,"81dcf7da",null),u=s.exports,l=[{path:"/test",name:"test",component:u}]},"4a97":function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="4a97"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view")],1)},r=[],i=(n("99af"),n("5530")),c=n("2f62"),s={name:"index",computed:Object(i["a"])({},Object(c["c"])({data:"common/data"})),data:function(){return{}},mounted:function(){this.update(this.data.concat([{id:2,name:"test2"}]))},methods:Object(i["a"])({},Object(c["b"])({update:"common/updateData"}))},u=s,l=n("2877"),f=Object(l["a"])(u,a,r,!1,null,"2ed78c47",null),d=f.exports,h=(n("4160"),n("d3b7"),n("ac1f"),n("5319"),n("159b"),n("ddb0"),n("8c4f")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view")],1)},m=[],g=(n("96cf"),n("1da1"));function v(t){this.url=t,this.callback={},this.instance=null,this.init()}v.prototype.init=function(){var t=this,e=new WebSocket("ws://".concat(this.url));e.onmessage=function(e){var n=JSON.parse(e.data);t.callback[n.type]&&t.callback[n.type](n)},e.onclose=function(t){console.log("connect closed("+t.code+")")},e.onopen=function(t){console.log("连接成功！")},e.onerror=function(t){console.log("websocket连接失败！")},this.instance=e},v.prototype.addCallback=function(t,e){this.callback[t]=e},v.prototype.send=function(t){var e=this;this.instance.readyState==this.instance.OPEN?this.instance.send(JSON.stringify(t)):setTimeout((function(){e.send(t)}),1e3)},v.prototype.close=function(t){this.instance&&this.instance.close()};var b=v,x=(n("6aea"),{name:"index",computed:Object(i["a"])({},Object(c["c"])({data:"common/data"})),data:function(){return{websocket:null}},created:function(){this.websocket=new b("localhost:8181"),this.websocket.addCallback("home",this.onHomeMsg),this.websocket.send({msg:"test"})},mounted:function(){this.update(this.data.concat([{id:2,name:"test2"}])),this.getData()},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])({update:"common/updateData"})),{},{onHomeMsg:function(t){console.log(t)},getData:function(){return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}})}),y=x,w=Object(l["a"])(y,p,m,!1,null,"f888113e",null),O=w.exports;o["a"].use(h["a"]);var S=[],j=[],E=n("4a97"),k=n("65a9");k.keys().forEach((function(t){"./index.js"!==t&&(j=j.concat(k(t).routes))})),E.keys().forEach((function(t){var e=N(t);S.push({name:e,path:"/".concat(e),component:E(t).default})})),j=j.concat(S);var M=[{path:"/",redirect:"/home"},{path:"/home",component:O,children:j}],_=new h["a"]({routes:M});function N(t){return/^\S+\.vue$/.test(t)&&t.replace(/^\S+\/(\w+)\.vue$/,"$1")}_.beforeEach((function(t,e,n){n()}));var T=_,$=n("b054"),D=n.n($),R={data:[{id:1,name:"test"}]},C={data:function(t){return t.data}},P={updateData:function(t,e){t.commit("updateData",e)}},U={updateData:function(t,e){t.data=e}},J={namespaced:!0,state:R,getters:C,actions:P,mutations:U};o["a"].use(c["a"]);var F=!1,H=new c["a"].Store({modules:{common:J},strict:F,plugins:F?[D()()]:[]}),I=n("b970"),L=(n("157a"),{SUCCESS:"200",TIMEOUT:5e3,ERRORS:{NOT_LOGIN:401}});n("4de4"),n("a15b"),n("fb6a"),n("b680"),n("4d63"),n("25f0"),n("466d");function B(t,e){if(t){t=t instanceof Date?t:new Date(t);var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var o in e=(e||"yyyy-MM-dd hh:mm:ss").replace(/y+/i,t.getFullYear()),n)e=e.replace(new RegExp("("+o+")"),("0"+n[o]).slice(-2));return e}return""}function q(t){return t=(""+t).replace(/(\d+)(\.)(\d+)/,"$1"),(""+t).replace(/(\d{1,3})(?=(\d{3})+(?:$|\D))/g,"$1,")}function G(t){var e=new RegExp("(^|&|#)"+t+"=([^&]*)(&|$)","i"),n=window.location.href.replace(/(.*)(\?)(.*)/,"$3").match(e);return n?n[2]:""}function K(t){return t?JSON.parse(JSON.stringify(t)):{}}function W(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",o=0;o<t;o++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function z(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}))}function A(t,e){var n=[];for(var o in t)n.push(o);return e&&(n=n.join(",")),n}function Y(t,e,n){var o=!1;function a(t){t[e]===n?o=!0:t.parentNode&&a(t.parentNode)}if(t.path){var r=t.path;r=r.filter((function(t){return t[e]===n})),o=r.length>0}else a(t.target||t.srcElement);return o}function Q(t,e,n){var o;n=n||["B","K","M","G","TB"];while((o=n.shift())&&t>1024)t/=1024;return("B"===o?t:t.toFixed(e||2))+o}function V(t){t.focus();var e=t.value.length;if(document.selection){var n=t.createTextRange();n.moveStart("character",e),n.collapse(),n.select()}else"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd&&(t.selectionStart=t.selectionEnd=e)}var X={dateFormat:B,numberFormat:q,getParamsFromUrl:G,clone:K,randomId:W,uuid:z,moveEnd:V,getKeys:A,isInTarget:Y,formatFileSize:Q},Z=(n("c975"),n("bc3a")),tt=n.n(Z),et=n("4328"),nt=n.n(et),ot=n("d399");tt.a.defaults.timeout=L.TIMEOUT,tt.a.defaults.baseURL="/",tt.a.defaults.transformRequest=function(t){return nt.a.stringify(t)},tt.a.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t.response)})),tt.a.interceptors.response.use((function(t){var e="string"===typeof t.data?JSON.parse(t.data):t.data;if(t.data=e,e.code!=L.SUCCESS){var n=t.data.msg;Object(ot["a"])(n),e.code==L.ERRORS.NOT_LOGIN&&(location.href="/login");var o=new Error(n);throw o.data=e,o.response=t,o}return t.data}),(function(t){if(t.response&&t.response.data){var e=t.response.data;e="string"===typeof e?e:JSON.stringify(e),-1!==e.indexOf("code=401")&&(location.href="/login")}else t.message==="timeout of ".concat(L.TIMEOUT,"ms exceeded")&&Object(ot["a"])("请求超时！");return Promise.reject(t)}));var at=tt.a;function rt(t){this.url=t,this.callback={},this.instance=null,this.init()}rt.prototype.init=function(){var t=this,e=new WebSocket("ws://".concat(this.url));e.onmessage=function(e){var n=JSON.parse(e.data);t.callback[n.type]&&t.callback[n.type](n.data)},e.onclose=function(t){console.log("connect closed("+t.code+")")},e.onopen=function(t){console.log("连接成功！")},e.onerror=function(t){console.log("websocket连接失败！")},this.instance=e},rt.prototype.addCallback=function(t,e){this.callback[t]=e},rt.prototype.send=function(t){var e=this;this.instance.readyState==this.instance.OPEN?this.instance.send(JSON.stringify(t)):setTimeout((function(){e.send(t)}),1e3)},rt.prototype.close=function(t){this.instance&&this.instance.close()};var it=rt,ct=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"more",style:{height:t.baseHeight}},[n("div",[t._t("default")],2)]),t.show?n("div",{staticClass:"show-more"},[n("span",{staticClass:"toggle",class:{bottom:this.showMore},on:{click:t.toggleShowMore}})]):t._e()])}),st=[],ut={name:"more",props:{height:{type:String,default:"5.4rem"},show:{type:Boolean,default:!0}},data:function(){return{showMore:!1,baseHeight:""}},mounted:function(){this.baseHeight=this.height,this.showMore=this.show},methods:{toggleShowMore:function(){this.showMore=!this.showMore,this.baseHeight="auto"===this.baseHeight?this.height:"auto"}}},lt=ut,ft=(n("e807"),Object(l["a"])(lt,ct,st,!1,null,"7e98d868",null)),dt=ft.exports,ht=[dt],pt={install:function(t){ht.forEach((function(e){t.component(e.name,e)}))}},mt={ellipsis:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=new RegExp("(.{".concat(e,"})(.*)"));return t.replace(n,"$1...")},fileEllipsis:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=new RegExp("(.{".concat(e,"})(.*)(.{").concat(n,"})(\\..*)$"));return t.replace(o,"$1...$3$4")}},gt={install:function(t){for(var e in mt)t.filter(e,mt[e])}},vt={constant:L,utils:X,http:at,socket:it},bt={install:function(t){if(this.installed)return!0;for(var e in t.use(I["a"]),t.use(pt),t.use(gt),t.config.productionTip=!1,vt)t.prototype[e]=vt[e]}};o["a"].use(bt),new o["a"]({store:H,router:T,render:function(t){return t(d)}}).$mount("#app")},"65a9":function(t,e,n){var o={"./test/index.js":"01df"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=r,t.exports=a,a.id="65a9"},e01f:function(t,e,n){},e807:function(t,e,n){"use strict";var o=n("e01f"),a=n.n(o);a.a}});